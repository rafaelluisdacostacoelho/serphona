# Service Configuration
SERVICE_NAME=reporting-export-service
ENV=development
HTTP_PORT=8002

# ClickHouse Configuration
CLICKHOUSE_HOST=localhost
CLICKHOUSE_PORT=8123
CLICKHOUSE_USER=default
CLICKHOUSE_PASSWORD=
CLICKHOUSE_DATABASE=serphona_analytics
CLICKHOUSE_SECURE=false

# Redis Configuration (for job queue and caching)
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=6
REDIS_CACHE_TTL=1800

# S3 Configuration (for storing exports)
S3_BUCKET=serphona-exports
S3_REGION=us-east-1
S3_ACCESS_KEY_ID=your-access-key
S3_SECRET_ACCESS_KEY=your-secret-key
S3_ENDPOINT_URL=
S3_USE_SSL=true

# JWT Configuration (for authentication)
JWT_SECRET=your-super-secret-jwt-key-change-in-production-min-32-chars
JWT_ALGORITHM=HS256
JWT_ISSUER=serphona-auth

# Export Configuration
EXPORT_MAX_ROWS=100000
EXPORT_TIMEOUT=300
EXPORT_FORMATS=csv,xlsx,json,pdf
EXPORT_TEMP_DIR=/tmp/serphona-exports

# PDF Configuration
PDF_ENGINE=weasyprint
PDF_PAGE_SIZE=A4
PDF_ORIENTATION=portrait

# Email Configuration (for sending export links)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=your-email@gmail.com
SMTP_PASSWORD=your-app-password
SMTP_FROM_EMAIL=noreply@serphona.com
SMTP_USE_TLS=true

# Celery Configuration (for async jobs)
CELERY_BROKER_URL=redis://localhost:6379/7
CELERY_RESULT_BACKEND=redis://localhost:6379/8
CELERY_TASK_SERIALIZER=json
CELERY_RESULT_SERIALIZER=json
CELERY_ACCEPT_CONTENT=json
CELERY_TIMEZONE=America/Sao_Paulo

# Logging Configuration
LOG_LEVEL=INFO
LOG_FORMAT=json

# Prometheus Metrics
ENABLE_METRICS=true
METRICS_PORT=9097

# Rate Limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_EXPORTS_PER_HOUR=10
RATE_LIMIT_EXPORTS_PER_DAY=50

# Feature Flags
ENABLE_PDF_EXPORT=true
ENABLE_EXCEL_EXPORT=true
ENABLE_EMAIL_DELIVERY=true
ENABLE_S3_STORAGE=true
ENABLE_SCHEDULED_EXPORTS=false

# Performance Tuning
WORKER_THREADS=2
MAX_MEMORY_MB=1024
CHUNK_SIZE=10000
